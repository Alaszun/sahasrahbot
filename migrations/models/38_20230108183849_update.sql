-- upgrade --
ALTER TABLE `audit_generated_games` MODIFY COLUMN `settings` JSON;
ALTER TABLE `audit_generated_games` MODIFY COLUMN `timestamp` DATETIME(6)   DEFAULT CURRENT_TIMESTAMP(6) ON UPDATE CURRENT_TIMESTAMP(6);
ALTER TABLE `audit_generated_games` MODIFY COLUMN `doors` BOOL NOT NULL  DEFAULT 0;
ALTER TABLE `audit_messages` MODIFY COLUMN `message_id` BIGINT;
ALTER TABLE `audit_messages` MODIFY COLUMN `channel_id` BIGINT;
ALTER TABLE `audit_messages` MODIFY COLUMN `guild_id` BIGINT;
ALTER TABLE `audit_messages` MODIFY COLUMN `message_date` DATETIME(6);
ALTER TABLE `audit_messages` MODIFY COLUMN `user_id` BIGINT;
ALTER TABLE `authorizationkeypermissions` MODIFY COLUMN `subtype` LONGTEXT;
ALTER TABLE `config` MODIFY COLUMN `guild_id` BIGINT NOT NULL;
ALTER TABLE `discord_server_categories` MODIFY COLUMN `channel_id` BIGINT NOT NULL;
ALTER TABLE `discord_server_categories` MODIFY COLUMN `guild_id` BIGINT NOT NULL;
ALTER TABLE `inquirymessageconfig` MODIFY COLUMN `role_id` BIGINT NOT NULL;
ALTER TABLE `multiworld` MODIFY COLUMN `owner_id` BIGINT;
ALTER TABLE `multiworldentrant` MODIFY COLUMN `multiworld_id` BIGINT NOT NULL;
ALTER TABLE `multiworldentrant` MODIFY COLUMN `discord_user_id` BIGINT;
ALTER TABLE `nick_verification` MODIFY COLUMN `discord_user_id` BIGINT;
ALTER TABLE `nick_verification` MODIFY COLUMN `timestamp` DATETIME(6)   DEFAULT CURRENT_TIMESTAMP(6) ON UPDATE CURRENT_TIMESTAMP(6);
ALTER TABLE `presetnamespaces` MODIFY COLUMN `discord_user_id` BIGINT NOT NULL;
ALTER TABLE `presets` MODIFY COLUMN `modified` DATETIME(6) NOT NULL  DEFAULT CURRENT_TIMESTAMP(6) ON UPDATE CURRENT_TIMESTAMP(6);
ALTER TABLE `presets` MODIFY COLUMN `content` LONGTEXT NOT NULL;
ALTER TABLE `rtggannouncermessages` MODIFY COLUMN `message_id` BIGINT NOT NULL;
ALTER TABLE `rtggannouncers` MODIFY COLUMN `channel_id` BIGINT NOT NULL;
ALTER TABLE `rtggannouncers` MODIFY COLUMN `guild_id` BIGINT NOT NULL;
ALTER TABLE `rtggwatcher` MODIFY COLUMN `channel_id` BIGINT NOT NULL;
ALTER TABLE `rtggwatcher` MODIFY COLUMN `guild_id` BIGINT NOT NULL;
ALTER TABLE `rtggwatcher` MODIFY COLUMN `notify_on_new_player` BOOL NOT NULL  DEFAULT 0;
ALTER TABLE `racetimekonotsegment` MODIFY COLUMN `updated` DATETIME(6) NOT NULL  DEFAULT CURRENT_TIMESTAMP(6) ON UPDATE CURRENT_TIMESTAMP(6);
ALTER TABLE `racetimekonotsegment` MODIFY COLUMN `created` DATETIME(6) NOT NULL  DEFAULT CURRENT_TIMESTAMP(6);
ALTER TABLE `racetimekonotgame` MODIFY COLUMN `updated` DATETIME(6) NOT NULL  DEFAULT CURRENT_TIMESTAMP(6) ON UPDATE CURRENT_TIMESTAMP(6);
ALTER TABLE `racetimekonotgame` MODIFY COLUMN `created` DATETIME(6) NOT NULL  DEFAULT CURRENT_TIMESTAMP(6);
ALTER TABLE `ranked_choice_authorized_voters` MODIFY COLUMN `user_id` BIGINT NOT NULL;
ALTER TABLE `ranked_choice_candidate` MODIFY COLUMN `created` DATETIME(6) NOT NULL  DEFAULT CURRENT_TIMESTAMP(6);
ALTER TABLE `ranked_choice_candidate` MODIFY COLUMN `updated` DATETIME(6) NOT NULL  DEFAULT CURRENT_TIMESTAMP(6) ON UPDATE CURRENT_TIMESTAMP(6);
ALTER TABLE `ranked_choice_election` ADD `seats` SMALLINT NOT NULL  DEFAULT 1;
ALTER TABLE `ranked_choice_election` MODIFY COLUMN `message_id` BIGINT;
ALTER TABLE `ranked_choice_election` MODIFY COLUMN `updated` DATETIME(6) NOT NULL  DEFAULT CURRENT_TIMESTAMP(6) ON UPDATE CURRENT_TIMESTAMP(6);
ALTER TABLE `ranked_choice_election` MODIFY COLUMN `channel_id` BIGINT;
ALTER TABLE `ranked_choice_election` MODIFY COLUMN `guild_id` BIGINT;
ALTER TABLE `ranked_choice_election` MODIFY COLUMN `created` DATETIME(6) NOT NULL  DEFAULT CURRENT_TIMESTAMP(6);
ALTER TABLE `ranked_choice_election` MODIFY COLUMN `private` BOOL NOT NULL  DEFAULT 0;
ALTER TABLE `ranked_choice_election` MODIFY COLUMN `active` BOOL NOT NULL  DEFAULT 1;
ALTER TABLE `ranked_choice_election` MODIFY COLUMN `owner_id` BIGINT NOT NULL;
ALTER TABLE `ranked_choice_election` MODIFY COLUMN `show_vote_count` BOOL NOT NULL  DEFAULT 1;
ALTER TABLE `ranked_choice_votes` MODIFY COLUMN `updated` DATETIME(6) NOT NULL  DEFAULT CURRENT_TIMESTAMP(6) ON UPDATE CURRENT_TIMESTAMP(6);
ALTER TABLE `ranked_choice_votes` MODIFY COLUMN `created` DATETIME(6) NOT NULL  DEFAULT CURRENT_TIMESTAMP(6);
ALTER TABLE `ranked_choice_votes` MODIFY COLUMN `user_id` BIGINT NOT NULL;
ALTER TABLE `reaction_group` MODIFY COLUMN `message_id` BIGINT NOT NULL;
ALTER TABLE `reaction_group` MODIFY COLUMN `channel_id` BIGINT NOT NULL;
ALTER TABLE `reaction_group` MODIFY COLUMN `guild_id` BIGINT NOT NULL;
ALTER TABLE `reaction_role` MODIFY COLUMN `guild_id` BIGINT NOT NULL;
ALTER TABLE `reaction_role` MODIFY COLUMN `role_id` BIGINT;
ALTER TABLE `sgl2020_tournament` MODIFY COLUMN `updated` DATETIME(6) NOT NULL  DEFAULT CURRENT_TIMESTAMP(6) ON UPDATE CURRENT_TIMESTAMP(6);
ALTER TABLE `sgl2020_tournament` MODIFY COLUMN `created` DATETIME(6) NOT NULL  DEFAULT CURRENT_TIMESTAMP(6);
ALTER TABLE `sgl2020_tournament_bo3` MODIFY COLUMN `updated` DATETIME(6) NOT NULL  DEFAULT CURRENT_TIMESTAMP(6) ON UPDATE CURRENT_TIMESTAMP(6);
ALTER TABLE `sgl2020_tournament_bo3` MODIFY COLUMN `created` DATETIME(6) NOT NULL  DEFAULT CURRENT_TIMESTAMP(6);
ALTER TABLE `smz3_multiworld` MODIFY COLUMN `owner_id` BIGINT;
ALTER TABLE `sgdailies` MODIFY COLUMN `guild_id` BIGINT NOT NULL;
ALTER TABLE `sgdailies` MODIFY COLUMN `announce_channel` BIGINT NOT NULL;
ALTER TABLE `spoiler_races` MODIFY COLUMN `started` DATETIME(6);
ALTER TABLE `spoiler_races` MODIFY COLUMN `date` DATETIME(6) NOT NULL  DEFAULT CURRENT_TIMESTAMP(6);
ALTER TABLE `srl_races` MODIFY COLUMN `timestamp` DATETIME(6) NOT NULL  DEFAULT CURRENT_TIMESTAMP(6) ON UPDATE CURRENT_TIMESTAMP(6);
ALTER TABLE `tournament_games` MODIFY COLUMN `settings` JSON;
ALTER TABLE `tournament_games` MODIFY COLUMN `updated` DATETIME(6) NOT NULL  DEFAULT CURRENT_TIMESTAMP(6) ON UPDATE CURRENT_TIMESTAMP(6);
ALTER TABLE `tournament_games` MODIFY COLUMN `created` DATETIME(6) NOT NULL  DEFAULT CURRENT_TIMESTAMP(6);
ALTER TABLE `tournament_games` MODIFY COLUMN `notes` LONGTEXT;
ALTER TABLE `tournamentpresethistory` MODIFY COLUMN `discord_user_id` BIGINT NOT NULL;
ALTER TABLE `tournamentpresethistory` MODIFY COLUMN `timestamp` DATETIME(6) NOT NULL  DEFAULT CURRENT_TIMESTAMP(6);
ALTER TABLE `tournament_results` MODIFY COLUMN `results_json` JSON;
ALTER TABLE `tournaments` MODIFY COLUMN `mod_channel_id` BIGINT;
ALTER TABLE `tournaments` MODIFY COLUMN `coop` BOOL;
ALTER TABLE `tournaments` MODIFY COLUMN `scheduling_needs_channel_id` BIGINT;
ALTER TABLE `tournaments` MODIFY COLUMN `has_submission` BOOL;
ALTER TABLE `tournaments` MODIFY COLUMN `commentary_channel_id` BIGINT;
ALTER TABLE `tournaments` MODIFY COLUMN `guild_id` BIGINT;
ALTER TABLE `tournaments` MODIFY COLUMN `audit_channel_id` BIGINT;
ALTER TABLE `triforcetexts` MODIFY COLUMN `broadcasted` BOOL NOT NULL  DEFAULT 0;
ALTER TABLE `triforcetexts` MODIFY COLUMN `discord_user_id` BIGINT;
ALTER TABLE `triforcetexts` MODIFY COLUMN `timestamp` DATETIME(6) NOT NULL  DEFAULT CURRENT_TIMESTAMP(6) ON UPDATE CURRENT_TIMESTAMP(6);
ALTER TABLE `triforcetexts` MODIFY COLUMN `approved` BOOL NOT NULL  DEFAULT 0;
ALTER TABLE `voice_role` MODIFY COLUMN `voice_channel_id` BIGINT NOT NULL;
ALTER TABLE `voice_role` MODIFY COLUMN `guild_id` BIGINT NOT NULL;
ALTER TABLE `voice_role` MODIFY COLUMN `role_id` BIGINT NOT NULL;
-- downgrade --
ALTER TABLE `config` MODIFY COLUMN `guild_id` BIGINT NOT NULL;
ALTER TABLE `presets` MODIFY COLUMN `modified` DATETIME(6) NOT NULL  DEFAULT CURRENT_TIMESTAMP(6) ON UPDATE CURRENT_TIMESTAMP(6);
ALTER TABLE `presets` MODIFY COLUMN `content` LONGTEXT NOT NULL;
ALTER TABLE `srl_races` MODIFY COLUMN `timestamp` DATETIME(6) NOT NULL  DEFAULT CURRENT_TIMESTAMP(6) ON UPDATE CURRENT_TIMESTAMP(6);
ALTER TABLE `voice_role` MODIFY COLUMN `voice_channel_id` BIGINT NOT NULL;
ALTER TABLE `voice_role` MODIFY COLUMN `guild_id` BIGINT NOT NULL;
ALTER TABLE `voice_role` MODIFY COLUMN `role_id` BIGINT NOT NULL;
ALTER TABLE `multiworld` MODIFY COLUMN `owner_id` BIGINT;
ALTER TABLE `rtggwatcher` MODIFY COLUMN `channel_id` BIGINT NOT NULL;
ALTER TABLE `rtggwatcher` MODIFY COLUMN `guild_id` BIGINT NOT NULL;
ALTER TABLE `rtggwatcher` MODIFY COLUMN `notify_on_new_player` BOOL NOT NULL  DEFAULT 0;
ALTER TABLE `tournaments` MODIFY COLUMN `mod_channel_id` BIGINT;
ALTER TABLE `tournaments` MODIFY COLUMN `coop` BOOL;
ALTER TABLE `tournaments` MODIFY COLUMN `scheduling_needs_channel_id` BIGINT;
ALTER TABLE `tournaments` MODIFY COLUMN `has_submission` BOOL;
ALTER TABLE `tournaments` MODIFY COLUMN `commentary_channel_id` BIGINT;
ALTER TABLE `tournaments` MODIFY COLUMN `guild_id` BIGINT;
ALTER TABLE `tournaments` MODIFY COLUMN `audit_channel_id` BIGINT;
ALTER TABLE `reaction_role` MODIFY COLUMN `guild_id` BIGINT NOT NULL;
ALTER TABLE `reaction_role` MODIFY COLUMN `role_id` BIGINT;
ALTER TABLE `spoiler_races` MODIFY COLUMN `started` DATETIME(6);
ALTER TABLE `spoiler_races` MODIFY COLUMN `date` DATETIME(6) NOT NULL  DEFAULT CURRENT_TIMESTAMP(6);
ALTER TABLE `audit_messages` MODIFY COLUMN `message_id` BIGINT;
ALTER TABLE `audit_messages` MODIFY COLUMN `channel_id` BIGINT;
ALTER TABLE `audit_messages` MODIFY COLUMN `guild_id` BIGINT;
ALTER TABLE `audit_messages` MODIFY COLUMN `message_date` DATETIME(6);
ALTER TABLE `audit_messages` MODIFY COLUMN `user_id` BIGINT;
ALTER TABLE `reaction_group` MODIFY COLUMN `message_id` BIGINT NOT NULL;
ALTER TABLE `reaction_group` MODIFY COLUMN `channel_id` BIGINT NOT NULL;
ALTER TABLE `reaction_group` MODIFY COLUMN `guild_id` BIGINT NOT NULL;
ALTER TABLE `triforcetexts` MODIFY COLUMN `broadcasted` BOOL NOT NULL  DEFAULT 0;
ALTER TABLE `triforcetexts` MODIFY COLUMN `discord_user_id` BIGINT;
ALTER TABLE `triforcetexts` MODIFY COLUMN `timestamp` DATETIME(6) NOT NULL  DEFAULT CURRENT_TIMESTAMP(6) ON UPDATE CURRENT_TIMESTAMP(6);
ALTER TABLE `triforcetexts` MODIFY COLUMN `approved` BOOL NOT NULL  DEFAULT 0;
ALTER TABLE `rtggannouncers` MODIFY COLUMN `channel_id` BIGINT NOT NULL;
ALTER TABLE `rtggannouncers` MODIFY COLUMN `guild_id` BIGINT NOT NULL;
ALTER TABLE `smz3_multiworld` MODIFY COLUMN `owner_id` BIGINT;
ALTER TABLE `tournament_games` MODIFY COLUMN `settings` JSON;
ALTER TABLE `tournament_games` MODIFY COLUMN `updated` DATETIME(6) NOT NULL  DEFAULT CURRENT_TIMESTAMP(6) ON UPDATE CURRENT_TIMESTAMP(6);
ALTER TABLE `tournament_games` MODIFY COLUMN `created` DATETIME(6) NOT NULL  DEFAULT CURRENT_TIMESTAMP(6);
ALTER TABLE `tournament_games` MODIFY COLUMN `notes` LONGTEXT;
ALTER TABLE `nick_verification` MODIFY COLUMN `discord_user_id` BIGINT;
ALTER TABLE `nick_verification` MODIFY COLUMN `timestamp` DATETIME(6)   DEFAULT CURRENT_TIMESTAMP(6) ON UPDATE CURRENT_TIMESTAMP(6);
ALTER TABLE `presetnamespaces` MODIFY COLUMN `discord_user_id` BIGINT NOT NULL;
ALTER TABLE `multiworldentrant` MODIFY COLUMN `multiworld_id` BIGINT NOT NULL;
ALTER TABLE `multiworldentrant` MODIFY COLUMN `discord_user_id` BIGINT;
ALTER TABLE `racetimekonotgame` MODIFY COLUMN `updated` DATETIME(6) NOT NULL  DEFAULT CURRENT_TIMESTAMP(6) ON UPDATE CURRENT_TIMESTAMP(6);
ALTER TABLE `racetimekonotgame` MODIFY COLUMN `created` DATETIME(6) NOT NULL  DEFAULT CURRENT_TIMESTAMP(6);
ALTER TABLE `ranked_choice_votes` MODIFY COLUMN `updated` DATETIME(6) NOT NULL  DEFAULT CURRENT_TIMESTAMP(6) ON UPDATE CURRENT_TIMESTAMP(6);
ALTER TABLE `ranked_choice_votes` MODIFY COLUMN `created` DATETIME(6) NOT NULL  DEFAULT CURRENT_TIMESTAMP(6);
ALTER TABLE `ranked_choice_votes` MODIFY COLUMN `user_id` BIGINT NOT NULL;
ALTER TABLE `sgl2020_tournament` MODIFY COLUMN `updated` DATETIME(6) NOT NULL  DEFAULT CURRENT_TIMESTAMP(6) ON UPDATE CURRENT_TIMESTAMP(6);
ALTER TABLE `sgl2020_tournament` MODIFY COLUMN `created` DATETIME(6) NOT NULL  DEFAULT CURRENT_TIMESTAMP(6);
ALTER TABLE `tournament_results` MODIFY COLUMN `results_json` JSON;
ALTER TABLE `sgdailies` MODIFY COLUMN `guild_id` BIGINT NOT NULL;
ALTER TABLE `sgdailies` MODIFY COLUMN `announce_channel` BIGINT NOT NULL;
ALTER TABLE `audit_generated_games` MODIFY COLUMN `settings` JSON;
ALTER TABLE `audit_generated_games` MODIFY COLUMN `timestamp` DATETIME(6)   DEFAULT CURRENT_TIMESTAMP(6) ON UPDATE CURRENT_TIMESTAMP(6);
ALTER TABLE `audit_generated_games` MODIFY COLUMN `doors` BOOL NOT NULL  DEFAULT 0;
ALTER TABLE `inquirymessageconfig` MODIFY COLUMN `role_id` BIGINT NOT NULL;
ALTER TABLE `racetimekonotsegment` MODIFY COLUMN `updated` DATETIME(6) NOT NULL  DEFAULT CURRENT_TIMESTAMP(6) ON UPDATE CURRENT_TIMESTAMP(6);
ALTER TABLE `racetimekonotsegment` MODIFY COLUMN `created` DATETIME(6) NOT NULL  DEFAULT CURRENT_TIMESTAMP(6);
ALTER TABLE `ranked_choice_election` DROP COLUMN `seats`;
ALTER TABLE `ranked_choice_election` MODIFY COLUMN `message_id` BIGINT;
ALTER TABLE `ranked_choice_election` MODIFY COLUMN `updated` DATETIME(6) NOT NULL  DEFAULT CURRENT_TIMESTAMP(6) ON UPDATE CURRENT_TIMESTAMP(6);
ALTER TABLE `ranked_choice_election` MODIFY COLUMN `channel_id` BIGINT;
ALTER TABLE `ranked_choice_election` MODIFY COLUMN `guild_id` BIGINT;
ALTER TABLE `ranked_choice_election` MODIFY COLUMN `created` DATETIME(6) NOT NULL  DEFAULT CURRENT_TIMESTAMP(6);
ALTER TABLE `ranked_choice_election` MODIFY COLUMN `private` BOOL NOT NULL  DEFAULT 0;
ALTER TABLE `ranked_choice_election` MODIFY COLUMN `active` BOOL NOT NULL  DEFAULT 1;
ALTER TABLE `ranked_choice_election` MODIFY COLUMN `owner_id` BIGINT NOT NULL;
ALTER TABLE `ranked_choice_election` MODIFY COLUMN `show_vote_count` BOOL NOT NULL  DEFAULT 1;
ALTER TABLE `sgl2020_tournament_bo3` MODIFY COLUMN `updated` DATETIME(6) NOT NULL  DEFAULT CURRENT_TIMESTAMP(6) ON UPDATE CURRENT_TIMESTAMP(6);
ALTER TABLE `sgl2020_tournament_bo3` MODIFY COLUMN `created` DATETIME(6) NOT NULL  DEFAULT CURRENT_TIMESTAMP(6);
ALTER TABLE `rtggannouncermessages` MODIFY COLUMN `message_id` BIGINT NOT NULL;
ALTER TABLE `ranked_choice_candidate` MODIFY COLUMN `created` DATETIME(6) NOT NULL  DEFAULT CURRENT_TIMESTAMP(6);
ALTER TABLE `ranked_choice_candidate` MODIFY COLUMN `updated` DATETIME(6) NOT NULL  DEFAULT CURRENT_TIMESTAMP(6) ON UPDATE CURRENT_TIMESTAMP(6);
ALTER TABLE `discord_server_categories` MODIFY COLUMN `channel_id` BIGINT NOT NULL;
ALTER TABLE `discord_server_categories` MODIFY COLUMN `guild_id` BIGINT NOT NULL;
ALTER TABLE `tournamentpresethistory` MODIFY COLUMN `discord_user_id` BIGINT NOT NULL;
ALTER TABLE `tournamentpresethistory` MODIFY COLUMN `timestamp` DATETIME(6) NOT NULL  DEFAULT CURRENT_TIMESTAMP(6);
ALTER TABLE `authorizationkeypermissions` MODIFY COLUMN `subtype` LONGTEXT;
ALTER TABLE `ranked_choice_authorized_voters` MODIFY COLUMN `user_id` BIGINT NOT NULL;
